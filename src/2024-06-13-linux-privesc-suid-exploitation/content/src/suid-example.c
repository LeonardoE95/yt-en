//
// Compilation: gcc suid-example.c -o suid-example
// 
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <errno.h>

int main(int argc, char **argv) {
  uid_t uid = getuid();
  uid_t eid = geteuid();

  printf("--------------------------------\n");
  printf("[INFO] - Real      user ID: %d\n", uid);
  printf("[INFO] - Effective user ID: %d\n", eid);
  printf("--------------------------------\n");
  
  execv("/usr/bin/touch", (char *[]){"/usr/bin/touch", "hello", NULL});
  
  return 0;
}
